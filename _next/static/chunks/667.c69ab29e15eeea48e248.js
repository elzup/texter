"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[667],{2101:function(t,e,r){r(9183)},7685:function(t,e,r){r.d(e,{d:function(){return o},p:function(){return c}});var n=(0,r(9308).Jy)(),o=n("updateHome"),c=n("updateBlocks")},497:function(t,e,r){r.d(e,{pI:function(){return I},s2:function(){return V},Sc:function(){return L},Zq:function(){return U},$u:function(){return _},Q6:function(){return T},i4:function(){return C}});var n=r(2982),o=r(5861),c=r(4942),u=r(2729),a=r.n(u),i=r(7757),s=r.n(i),f=r(3836),p=r(5683),l=r.n(p),d=r(381),v=r.n(d),y=r(885),b=r(7964);function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){(0,c.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function w(t){if("text"===t.nodeType)return function(t){return{type:"text",text:t.content}}(t);switch(t.open){case"{":return function(t){if(0===t.nodes.length||"text"!==t.nodes[0].nodeType)throw new Error("NoLabelError:\u30ea\u30d4\u30fc\u30c8\u30d6\u30ed\u30c3\u30af\u306e\u30e9\u30d9\u30eb\u304c\u306a\u3044:".concat(t.pos.start,",").concat(t.pos.end));var e=g(t.nodes[0]),r=e.name,n=e.newNode;return t.nodes[0]=n,{type:"repeat",name:r,count:1,blocks:t.nodes.map(w)}}(t);case"[":return function(t){if(0===t.nodes.length)throw new Error("NoLabelError:\u9078\u629e\u30d6\u30ed\u30c3\u30af\u306e\u30e9\u30d9\u30eb\u304c\u306a\u3044:".concat(t.pos.start,",").concat(t.pos.end));var e=t.nodes[0];if(t.nodes.length>1||"text"!==e.nodeType)throw new Error("BlockError:\u9078\u629e\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u306b\u62ec\u5f27:".concat(t.pos.start,",").concat(t.pos.end));var r=g(e);return{type:"select",name:r.name,vid:"",texts:r.newNode.content.split("|")}}(t);case"(":return function(t){if(0===t.nodes.length)throw new Error("NoLabelError:\u5165\u529b\u30d6\u30ed\u30c3\u30af\u306e\u30e9\u30d9\u30eb\u304c\u306a\u3044:".concat(t.pos.start,",").concat(t.pos.end));var e=t.nodes[0];if(t.nodes.length>1||"text"!==e.nodeType)throw new Error("BlockError:\u5165\u529b\u30d6\u30ed\u30c3\u30af\u306e\u4e2d\u306b\u62ec\u5f27:".concat(t.pos.start,",").concat(t.pos.end));return{type:"input",name:e.content,vid:""}}(t);default:throw new Error("ParseError: \u8b0e\u306e\u30a8\u30e9\u30fc")}}function g(t){var e=t.content.split(":");if(2!==e.length)throw new Error("NoLabelError:\u30d6\u30ed\u30c3\u30af\u306e\u30e9\u30d9\u30eb\u304c\u6b63\u3057\u304f\u306a\u3044:".concat(t.pos.start,",").concat(t.pos.end));var r=(0,y.Z)(e,2),n=r[0],o=r[1];return{name:n,newNode:h(h({},t),{},{content:o})}}var m=function(t){try{return{ok:!0,blocks:(0,b.Z)(t).map(w)}}catch(o){if(o.message.match(/ParseError/)){var e=o.message.split(":");return{ok:!1,message:"\u5bfe\u5fdc\u3059\u308b\u62ec\u5f27\u304c\u306a\u3044",hilights:[Number(e[e.length-1])]}}if(o.message.match(/BlockError|NoLabelError|MultiRepeatError/)){var r=o.message.split(":"),n=(0,y.Z)(r,3);return{ok:!1,message:n[1],hilights:n[2].split(",").map(Number)}}return{ok:!1,message:o.message,hilights:[]}}},j=r(4345),k=r(6632);r(2571);function x(t){return t.LogContainer}var P=r(7685),E=r(7603);function Z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(r),!0).forEach((function(e){(0,c.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var S=function(t){var e=document.location.origin;return"".concat(e,"/load?text=").concat(encodeURIComponent(t))};function N(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.map((function(t){return"repeat"===t.type?D(D({},t),{},{blocks:N(t.blocks,e+t.name),count:1}):"select"===t.type?{type:"select",name:t.name,texts:t.texts,vid:t.name}:"input"===t.type?D(D({},t),{},{vid:t.name}):t}))}function T(t){var e=t.text;return function(){var t=(0,o.Z)(s().mark((function t(r){var n,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=m(e)).ok){t.next=9;break}return o=S(e),t.next=5,r(P.d({text:e,result:D(D({},n),{},{blocks:N(n.blocks)}),shareUrl:o}));case 5:return t.next=7,r(j.P());case 7:t.next=11;break;case 9:return t.next=11,r(P.d({text:e,result:n,shareUrl:"",generatedText:""}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function C(t,e){return function(){var r=(0,o.Z)(s().mark((function r(n){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(T({text:t}));case 2:e();case 3:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()}function L(t){var e=t.name,r=t.count;return function(){var t=(0,o.Z)(s().mark((function t(n,o){var c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((c=E.S(o())).ok){t.next=3;break}return t.abrupt("return");case 3:return u=c.blocks.map((function(t){return"repeat"===t.type&&t.name===e?D(D({},t),{},{count:r}):t})),t.next=6,n(P.p(u));case 6:n(j.P());case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}function I(){return function(){var t=(0,o.Z)(s().mark((function t(e,r){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r().HomeContainer.generatedText,(0,f.Z)(n);case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}function U(t){var e=t.id;return function(){var t=(0,o.Z)(s().mark((function t(r,o){var c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=x(o()),a()(c,(function(t){return t.id===e})),u={id:e,createdAt:v()().format()},t.next=5,r(k.S([].concat((0,n.Z)(c),[u])));case 5:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}function _(){return function(){var t=(0,o.Z)(s().mark((function t(e,r){var n,o,c,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r().HomeContainer,o=n.shareUrl,c=n.generatedText,u=l().twitter({text:c,url:o,hashtags:"texter"}),window.open(u);case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}function V(){return function(){var t=(0,o.Z)(s().mark((function t(e,r){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,f.Z)(r().HomeContainer.shareUrl);case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}},7603:function(t,e,r){function n(t){return t.HomeContainer.text}function o(t){return t.HomeContainer.result}r.d(e,{Q:function(){return n},S:function(){return o}})},6632:function(t,e,r){r.d(e,{F:function(){return o},S:function(){return c}});var n=(0,r(9308).Jy)(),o=n("receiveLog"),c=n("receiveLogs")},576:function(t,e,r){r.d(e,{s:function(){return o},w:function(){return c}});var n=(0,r(9308).Jy)(),o=n("setValue"),c=n("replaceValues")},4345:function(t,e,r){r.d(e,{P:function(){return l},$:function(){return d}});var n=r(5861),o=r(6026),c=r.n(o),u=r(7757),a=r.n(u),i=r(7685),s=r(4107),f=r(576);function p(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t.map((function(t){switch(t.type){case"text":return t.text;case"input":case"select":return e[r+t.vid];case"repeat":return c()(t.count).map((function(r){return p(t.blocks,e,"".concat(t.name).concat(r,"-"))})).join("");default:return""}})).join("")}function l(){return function(){var t=(0,n.Z)(a().mark((function t(e,r){var n,o,c,u;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=r().HomeContainer.result).ok?(o=n.blocks,c=r().ValueById,u=p(o,c),e(i.d({generatedText:u}))):e(i.d({generatedText:""}));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}function d(t){var e=t.vid,r=t.value;return function(){var t=(0,n.Z)(a().mark((function t(n){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(s.U([e]));case 2:return t.next=4,n(f.s({key:e,value:r}));case 4:n(l());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},4292:function(t,e,r){r.d(e,{D:function(){return n}});var n=(0,r(9308).Jy)()("updateVids")},4107:function(t,e,r){r.d(e,{U:function(){return f},c:function(){return p}});var n=r(2982),o=r(5861),c=r(4908),u=r.n(c),a=r(7757),i=r.n(a),s=r(4292);function f(t){return function(){var e=(0,o.Z)(i().mark((function e(r,o){var c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o().ValuesTable.vids,e.next=3,r(s.D(u()([].concat((0,n.Z)(t),(0,n.Z)(c)))));case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()}function p(t){var e=t.vid;return function(){var t=(0,o.Z)(i().mark((function t(r,n){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=n().ValuesTable.vids,t.next=3,r(s.D(o.filter((function(t){return t!==e}))));case 3:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}},31:function(t,e,r){r.d(e,{Z:function(){return N}});var n=r(7779),o=r(9244),c=r(6734),u=r(3894),a=r(4942),i=r(6983),s=r(7685);function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){(0,a.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=(0,i.reducerWithInitialState)({text:"",result:{ok:!1,message:"No message",hilights:[]},generatedText:"",shareUrl:""}).case(s.p,(function(t,e){return p(p({},t),{},{result:{ok:!0,blocks:e}})})).case(s.d,(function(t,e){return p(p({},t),e)})),d=r(2982),v=r(6632),y=(0,i.reducerWithInitialState)([]).case(v.F,(function(t,e){return[].concat((0,d.Z)(t),[e])})).case(v.S,(function(t,e){return e})),b=(0,r(9308).Jy)(),O=b("syncStart"),h=b("syncEnd"),w=(0,i.reducerWithInitialState)({isLoading:!1}).case(O,(function(){return{isLoading:!0}})).case(h,(function(){return{isLoading:!0}})),g=r(576);function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){(0,a.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k=(0,i.reducerWithInitialState)({}).case(g.s,(function(t,e){return j(j({},t),{},(0,a.Z)({},e.key,e.value))})).case(g.w,(function(t,e){return e})),x=r(4292);function P(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?P(Object(r),!0).forEach((function(e){(0,a.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Z=(0,i.reducerWithInitialState)({vids:[]}).case(x.D,(function(t,e){return E(E({},t),{},{vids:e})})),D=(0,n.UY)({HomeContainer:l,LogContainer:y,Network:w,ValueById:k,ValuesTable:Z}),S={key:"primary",storage:c.Z},N=function(){var t=[u.Z],e=[],r=window.__REDUX_DEVTOOLS_EXTENSION__;"function"===typeof r&&e.push(r());var c=n.qC.apply(void 0,[n.md.apply(void 0,t)].concat(e)),a=(0,o.OJ)(S,D),i=(0,n.MT)(a,c);return{store:i,persistor:(0,o.p5)(i)}}}}]);